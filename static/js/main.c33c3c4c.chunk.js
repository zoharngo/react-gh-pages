(this.webpackJsonprestaurant=this.webpackJsonprestaurant||[]).push([[0],{111:function(e){e.exports=JSON.parse('[{"id":0,"mobile":548185009,"diners":2},{"id":1,"mobile":524335199,"diners":6},{"id":2,"mobile":505306599,"diners":8},{"id":3,"mobile":523460700,"diners":5},{"id":4,"mobile":545778465,"diners":2},{"id":5,"mobile":535831788,"diners":6},{"id":6,"mobile":522313989,"diners":6},{"id":7,"mobile":525706281,"diners":7},{"id":8,"mobile":544471977,"diners":4},{"id":9,"mobile":509090977,"diners":8},{"id":10,"mobile":524601191,"diners":4},{"id":11,"mobile":522542509,"diners":3},{"id":12,"mobile":503750590,"diners":2},{"id":13,"mobile":543452061,"diners":3},{"id":14,"mobile":543009519,"diners":2},{"id":15,"mobile":524041012,"diners":1},{"id":16,"mobile":542473026,"diners":2},{"id":17,"mobile":505473777,"diners":2},{"id":18,"mobile":505216716,"diners":5},{"id":19,"mobile":504005186,"diners":1},{"id":20,"mobile":528242181,"diners":3},{"id":21,"mobile":546280828,"diners":5},{"id":22,"mobile":545860810,"diners":2},{"id":23,"mobile":546763793,"diners":6},{"id":24,"mobile":543339577,"diners":8},{"id":25,"mobile":527725511,"diners":2},{"id":26,"mobile":505230077,"diners":8},{"id":27,"mobile":526750305,"diners":1},{"id":28,"mobile":544372738,"diners":4},{"id":29,"mobile":543263300,"diners":4},{"id":30,"mobile":526884446,"diners":1},{"id":31,"mobile":524343731,"diners":3},{"id":32,"mobile":542435818,"diners":5},{"id":33,"mobile":509400455,"diners":8},{"id":34,"mobile":524325919,"diners":6},{"id":35,"mobile":525914955,"diners":7},{"id":36,"mobile":507779995,"diners":1},{"id":37,"mobile":526486897,"diners":5},{"id":38,"mobile":507604488,"diners":2},{"id":39,"mobile":544481883,"diners":6},{"id":40,"mobile":522831624,"diners":3},{"id":41,"mobile":507315231,"diners":6},{"id":42,"mobile":542100905,"diners":8},{"id":43,"mobile":503635633,"diners":7},{"id":44,"mobile":543373878,"diners":5},{"id":45,"mobile":547903121,"diners":6},{"id":46,"mobile":505560815,"diners":1},{"id":47,"mobile":525441905,"diners":5},{"id":48,"mobile":526460418,"diners":2},{"id":49,"mobile":546712842,"diners":1}]')},112:function(e){e.exports=JSON.parse('[{"id":1,"size":2,"orderId":-1},{"id":2,"size":2,"orderId":-1},{"id":3,"size":2,"orderId":-1},{"id":4,"size":2,"orderId":-1},{"id":5,"size":2,"orderId":-1},{"id":6,"size":3,"orderId":-1},{"id":7,"size":3,"orderId":-1},{"id":8,"size":3,"orderId":-1},{"id":9,"size":3,"orderId":-1},{"id":10,"size":4,"orderId":-1},{"id":11,"size":4,"orderId":-1},{"id":12,"size":5,"orderId":-1},{"id":13,"size":5,"orderId":-1},{"id":14,"size":6,"orderId":-1},{"id":15,"size":7,"orderId":-1},{"id":16,"size":7,"orderId":-1},{"id":17,"size":8,"orderId":-1},{"id":18,"size":8,"orderId":-1}]')},150:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var i=n(217),r=n(0),d=n.n(r),c=n(42),a=n.n(c),o=n(9),l=n(27),s=n(116),b=n(233),u=n(114),j=n.n(u),O=n(113),h=n.n(O),x=n(240),m=n(241),f=n(237),g=n(15),p=n(4),v=n(243),I=n(244),S=n(236),z=n(242),C=n(224),T=n(235),k=n(223),E=d.a.createContext({ordersQueue:[],tables:[],updateTableStatus:function(){},deleteOrder:function(){},updateOrder:function(){},addOrder:function(){}}),y=n(234),w=n(227),D=n(206),A=[{id:"id",label:"GUEST ID"},{id:"mobile",label:"MOBILE"},{id:"diners",label:"NUMBER OF DINNERS"},{id:"tableId",label:"TABLE NUMBER"},{id:"startTime",label:"START TIME"},{id:"endTime",label:"END TIME"}],R=n(1);var M=function(e){var t=e.onSelectAllClick,n=e.order,i=e.orderBy,r=e.numSelected,d=e.rowCount,c=e.onRequestSort;return Object(R.jsx)(y.a,{sx:{background:"darkGray",height:"30px"},children:Object(R.jsxs)(T.a,{children:[Object(R.jsx)(S.a,{padding:"checkbox",children:Object(R.jsx)(k.a,{color:"primary",indeterminate:r>0&&r<d,checked:d>0&&r===d,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),A.map((function(e,t){return Object(R.jsx)(S.a,{align:"center",padding:"normal",sortDirection:i===e.id&&n,children:Object(R.jsxs)(w.a,{sx:{fontSize:"1.5vh"},active:i===e.id,direction:i===e.id?n:"asc",onClick:(r=e.id,function(e){c(e,r)}),children:[e.label,i===e.id?Object(R.jsx)(f.a,{component:"span",sx:D.a,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))]})})};function P(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function N(e,t){return"desc"===e?function(e,n){return P(e,n,t)}:function(e,n){return-P(e,n,t)}}function B(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var i=t(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n.map((function(e){return e[0]}))}var L=n(80),Q=n(238),F=n(81),U=n(239),_=n(105),W=n.n(_),J=n(108),q=n.n(J),G=n(106),H=n.n(G),V=n(107),K=n.n(V);var Z=function(e){var t=e.numSelected,n=e.addNewOrder,i=e.toggleEditMode,d=e.removeSelected,c=Object(r.useState)(!1),a=Object(o.a)(c,2),l=a[0],s=a[1];return Object(R.jsxs)(Q.a,{sx:Object(g.a)({pl:{sm:2},pr:{xs:1,sm:1}},t>0&&{bgcolor:function(e){return Object(L.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[t>0?Object(R.jsxs)(F.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t," selected"]}):Object(R.jsx)(F.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Orders"}),t>0?Object(R.jsx)(U.a,{title:"Remove orders",children:Object(R.jsx)(x.a,{onClick:d,children:Object(R.jsx)(W.a,{})})}):Object(R.jsxs)(R.Fragment,{children:[l?Object(R.jsx)(U.a,{title:"Check changes",children:Object(R.jsx)(x.a,{onClick:function(){i(!1),s(!1)},children:Object(R.jsx)(K.a,{})})}):Object(R.jsx)(U.a,{title:"Edit",children:Object(R.jsx)(x.a,{onClick:function(){i(!0),s(!0)},children:Object(R.jsx)(H.a,{})})}),Object(R.jsx)(U.a,{title:"Add new order",children:Object(R.jsx)(x.a,{onClick:function(){n(),i(!0),s(!0)},children:Object(R.jsx)(q.a,{})})})]})]})},X=n(221),Y=n(222),$=n(230),ee=n(219);function te(){var e=Object(r.useContext)(E),t=e.ordersQueue,n=void 0===t?[]:t,i=e.tables,d=void 0===i?[]:i,c=e.addOrder,a=e.updateTableStatus,l=e.updateOrder,s=e.deleteOrder,b=Object(r.useState)(0),u=Object(o.a)(b,2),j=u[0],O=u[1],h=Object(r.useState)("asc"),x=Object(o.a)(h,2),y=x[0],w=x[1],D=Object(r.useState)("id"),A=Object(o.a)(D,2),P=A[0],L=A[1],Q=Object(r.useState)([]),F=Object(o.a)(Q,2),U=F[0],_=F[1],W=Object(r.useState)(0),J=Object(o.a)(W,2),q=J[0],G=J[1],H=Object(r.useState)(5),V=Object(o.a)(H,2),K=V[0],te=V[1],ne=Object(r.useState)(!0),ie=Object(o.a)(ne,2),re=ie[0],de=ie[1];Object(r.useEffect)((function(){j&&n.length>j&&G(n.length%K>0?Math.floor(n.length/K):Math.floor(n.length/K)-1)}),[j,n.length,K]);var ce=function(e,t,n){l(Object(p.a)({id:Number(e)},n,t))},ae=q>0?Math.max(0,(1+q)*K-n.length):0;return Object(R.jsx)(f.a,{sx:{width:"100%"},children:Object(R.jsxs)(m.a,{sx:{width:"100%",mb:2},children:[Object(R.jsx)(Z,{toggleEditMode:function(e){return de(!e)},addNewOrder:function(){c({id:n.length,mobile:"",diners:""}),O(n.length)},numSelected:U.length,removeSelected:function(){s(U),_([]),a(n.filter((function(e,t){return U.includes(t)})).map((function(e){return e.tableId})))}}),Object(R.jsx)(z.a,{children:Object(R.jsxs)(v.a,{"aria-labelledby":"tableTitle",size:"small",children:[Object(R.jsx)(M,{numSelected:U.length,order:y,orderBy:P,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.id}));_(t)}else _([])},onRequestSort:function(e,t){w(P===t&&"asc"===y?"desc":"asc"),L(t)},rowCount:n.length}),Object(R.jsxs)(I.a,{children:[B(n,N(y,P)).slice(q*K,q*K+K).map((function(e,t){var n,i=(n=e.id,-1!==U.indexOf(n)),r="enhanced-table-checkbox-".concat(t),c=e.startTime,o=void 0===c?null:c,l=e.endTime,s=void 0===l?null:l,b=e.tableId,u=void 0===b?"":b;return Object(R.jsxs)(T.a,{hover:!0,onClick:function(t){return function(e,t){if(e.preventDefault(),e.stopPropagation(),"checkbox"===e.target.type){var n=U.indexOf(t),i=[];-1===n?i=i.concat(U,t):0===n?i=i.concat(U.slice(1)):n===U.length-1?i=i.concat(U.slice(0,-1)):n>0&&(i=i.concat(U.slice(0,n),U.slice(n+1))),_(i)}}(t,e.id)},role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[Object(R.jsx)(S.a,{padding:"checkbox",children:Object(R.jsx)(k.a,{color:"primary",checked:i,inputProps:{"aria-labelledby":r}})}),Object(R.jsx)(S.a,{align:"center",component:"th",id:r,children:e.id}),Object(R.jsx)(S.a,{align:"center",children:Object(R.jsx)(X.a,{disabled:re,type:"tel",sx:{padding:"0",width:"100%"},value:e.mobile,onChange:function(t){return ce(e.id,t.target.value,"mobile")},size:"small"})}),Object(R.jsx)(S.a,{align:"center",children:Object(R.jsx)(X.a,{disabled:re,type:"number",sx:{padding:"0"},value:e.diners,onChange:function(t){return ce(e.id,t.target.value,"diners")},size:"small"})}),Object(R.jsx)(S.a,{padding:"normal",align:"center",children:Object(R.jsxs)(Y.a,{renderValue:function(){return-1===u?"":u},disabled:re,sx:{padding:"0",width:"100%"},size:"small",value:u,onChange:function(t){t.stopPropagation(),t.preventDefault(),a(t.target.value,e.id),ce(e.id,t.target.value,"tableId")},children:[Object(R.jsx)($.a,{value:"",children:Object(R.jsx)("em",{children:"None"})}),d.filter((function(t){return-1===t.orderId&&Number(t.size)===Number(e.diners)})).map((function(e){return Object(R.jsx)($.a,{value:e.id,children:Object(R.jsxs)("em",{children:["Table ID ",e.id,"/",e.size]})},e.id)}))]})}),Object(R.jsx)(S.a,{children:Object(R.jsx)(ee.a,{disabled:re,value:o,onChange:function(t){return ce(e.id,t,"startTime")},renderInput:function(e){return Object(R.jsx)(X.a,Object(g.a)({size:"small"},e))}})}),Object(R.jsx)(S.a,{children:Object(R.jsx)(ee.a,{disabled:re,value:s,onChange:function(t){return ce(e.id,t,"endTime")},renderInput:function(e){return Object(R.jsx)(X.a,Object(g.a)({size:"small"},e))}})})]},t)})),ae>0&&Object(R.jsx)(T.a,{style:{height:33*ae},children:Object(R.jsx)(S.a,{colSpan:6})})]})]})}),Object(R.jsx)(C.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:K,page:q,onPageChange:function(e,t){G(t)},onRowsPerPageChange:function(e){te(parseInt(e.target.value,10)),G(0)}})]})})}var ne=n(5),ie=n(231),re=n(247),de=n(248),ce=n(226),ae=n(214),oe=n(215),le=n(216),se=n(110),be=n.n(se),ue=Object(ne.a)(m.a)((function(e){var t=e.theme;return Object(g.a)(Object(g.a)({},t.typography.body1),{},{textAlign:"center",color:"white",height:"10vh",fontSize:"1.3vh",borderRadius:"30px",boxSizing:"border-box"})}));function je(){var e=Object(r.useContext)(E),t=e.tables,n=void 0===t?[]:t,i=e.updateTableStatus,d=e.updateOrder,c=Object(r.useState)(null),a=Object(o.a)(c,2),l=a[0],s=a[1],b=Object(r.useState)(null),u=Object(o.a)(b,2),j=u[0],O=u[1],h=Object(r.useState)(null),x=Object(o.a)(h,2),f=x[0],g=x[1],p=function(){s(null)},v=function(){s(null),i(j,-1),d({id:f,tableId:-1})},I=Boolean(l),S=I?"simple-popover":void 0;return Object(R.jsx)(ie.a,{p:3,container:!0,rowSpacing:3,columnSpacing:{xs:1,sm:2,md:3},children:n.map((function(e,t){var n=e.id,i=e.size,r=e.orderId;return Object(R.jsxs)(ie.a,{item:!0,xs:i+1,children:[Object(R.jsx)(m.a,{sx:{background:"brown"},elevation:24,children:Object(R.jsxs)(ue,{onClick:function(e){!function(e,t,n){s(e.currentTarget),O(t),g(n)}(e,n,r)},sx:{background:"".concat(-1!==r?"red":"green")},children:[Object(R.jsxs)(F.a,{children:["ID:",n]}),Object(R.jsxs)(F.a,{sx:{fontSize:"1.7vh",fontWeight:500},children:["SIZE:",i]}),-1!==r&&Object(R.jsxs)(F.a,{sx:{fontSize:"1.7vh",fontWeight:500},children:["ORDER ID:",r]})]})}),Object(R.jsx)(re.a,{elevation:0,id:S,open:I,anchorEl:l,onClose:p,anchorOrigin:{vertical:"top",horizontal:"left"},children:Object(R.jsx)(de.a,{children:Object(R.jsx)(ce.a,{disablePadding:!0,children:Object(R.jsxs)(ae.a,{onClick:v,children:[Object(R.jsx)(oe.a,{children:Object(R.jsx)(be.a,{})}),Object(R.jsx)(le.a,{primary:"Release table"})]})})})})]},n)}))})}var Oe=n(111),he=n(112),xe=n(17),me="DELETE_ORDER",fe="UPDATE_ORDER",ge="UPDATE_TABLE_STATUS",pe="ADD_NEW_ORDER",ve=function(e,t){switch(t.type){case me:return function(e,t){return Object(g.a)(Object(g.a)({},t),{},{ordersQueue:t.ordersQueue.filter((function(t){return!e.orderIds.includes(t.id)}))})}(t,e);case fe:return function(e,t){var n=e.order;return console.log(n),Object(g.a)(Object(g.a)({},t),{},{ordersQueue:t.ordersQueue.map((function(e){return e.id===n.id?Object(g.a)(Object(g.a)({},e),n):e}))})}(t,e);case ge:return function(e,t){return Array.isArray(e.tableId)?Object(g.a)(Object(g.a)({},t),{},{tables:t.tables.map((function(t){return e.tableId.includes(t.id)?Object(g.a)(Object(g.a)({},t),{},{orderId:e.orderId}):Object(g.a)({},t)}))}):Object(g.a)(Object(g.a)({},t),{},{tables:t.tables.map((function(t){return e.tableId===t.id?Object(g.a)(Object(g.a)({},t),{},{orderId:e.orderId}):e.orderId===t.orderId?Object(g.a)(Object(g.a)({},t),{},{orderId:-1}):Object(g.a)({},t)}))})}(t,e);case pe:return function(e,t){var n=e.order;return Object(g.a)(Object(g.a)({},t),{},{ordersQueue:[].concat(Object(xe.a)(t.ordersQueue),[n])})}(t,e);default:return e}},Ie=function(e){var t=Object(r.useReducer)(ve,{ordersQueue:Oe,tables:he}),n=Object(o.a)(t,2),i=n[0],d=n[1];return Object(R.jsx)(E.Provider,{value:Object(g.a)({updateTableStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;d({type:ge,tableId:e,orderId:t})},deleteOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d({type:me,orderIds:e})},updateOrder:function(e){d({type:fe,order:e})},addOrder:function(e){d({type:pe,order:e})}},i),children:e.children})},Se=function(){var e=Object(r.useContext)(E).tables,t=void 0===e?[]:e,n=Object(r.useMemo)((function(){return t.filter((function(e){return-1===e.orderId})).length}),[t]),i=Object(r.useMemo)((function(){return t.length-n}),[n,t]);return Object(R.jsxs)(f.a,{padding:0,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},component:"div",children:[Object(R.jsx)(f.a,{m:1,children:Object(R.jsxs)(F.a,{sx:{color:"green",fontWeight:700,lineHeight:"3vh",fontSize:"2vh"},children:["AVAILABLE TABLES: (",n,")"]})}),Object(R.jsx)(f.a,{m:1,children:Object(R.jsxs)(F.a,{sx:{color:"red",fontWeight:700,lineHeight:"3vh",fontSize:"2vh"},children:["TAKEN TABLES: (",i,")"]})})]})},ze=n(213),Ce=n(218),Te=Object(r.createContext)({toggleColorMode:function(){}});function ke(){var e=Object(l.a)(),t=Object(r.useContext)(Te);return Object(R.jsx)(Ie,{children:Object(R.jsxs)(f.a,{sx:{width:"100vw",height:"100vh"},children:[Object(R.jsxs)(f.a,{sx:{display:"flex",width:"100%",alignItems:"center",justifyContent:"flex-start",bgcolor:"background.default",color:"text.primary",p:3},children:[e.palette.mode," mode",Object(R.jsx)(x.a,{sx:{ml:1},onClick:t.toggleColorMode,color:"inherit",children:"dark"===e.palette.mode?Object(R.jsx)(h.a,{}):Object(R.jsx)(j.a,{})})]}),Object(R.jsxs)(f.a,{component:"div",sx:{bgcolor:"background.default",flexDirection:"column",display:"flex",padding:"50px",boxSizing:"border-box"},children:[Object(R.jsx)(f.a,{component:"div",sx:{boxSizing:"border-box",height:"fit-content"},children:Object(R.jsx)(te,{})}),Object(R.jsx)(f.a,{mb:2,component:"div",sx:{boxSizing:"border-box",height:"fit-content"},children:Object(R.jsx)(m.a,{children:Object(R.jsx)(Se,{})})}),Object(R.jsx)(m.a,{elevation:10,children:Object(R.jsx)(je,{numberOfTables:17})})]})]})})}var Ee=function(){var e=Object(r.useState)("light"),t=Object(o.a)(e,2),n=t[0],i=t[1],d=Object(r.useMemo)((function(){return{toggleColorMode:function(){i((function(e){return"light"===e?"dark":"light"}))}}}),[]),c=Object(r.useMemo)((function(){return Object(s.a)({palette:{mode:n}})}),[n]);return Object(R.jsx)(Te.Provider,{value:d,children:Object(R.jsx)(b.a,{theme:c,children:Object(R.jsx)(ze.b,{dateAdapter:Ce.a,children:Object(R.jsx)(ke,{})})})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,d=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),d(e),c(e)}))};n(150);a.a.render(Object(R.jsxs)(d.a.StrictMode,{children:[Object(R.jsx)(i.a,{}),Object(R.jsx)(Ee,{})]}),document.getElementById("root")),ye()}},[[151,1,2]]]);
//# sourceMappingURL=main.c33c3c4c.chunk.js.map